<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="booking.css">
    <link rel="stylesheet" href="css/font-awesome/css/font-awesome.min..css">
    <script src="https://use.fontawesome.com/0c7a3095b5.js"></script>
    <title>Dashboard</title>
</head>
<body>
    <div id="dashboardMainContainer">

        <!-- Sidebar -->

        <div class="dashboard_sidebar" id="dashboard_sidebar">

            <h3 class="dashboard_logo" id="dashboard_logo">SBS</h3>
            
        
            <!-- <div class="sidebar_user">
                <img src="image/user.jpeg" alt="User Image" id="userImage" />
                
            </div> -->
        
            <div class="sidebar_product">
                <ul style="list-style-type:none" class=" dashboard_product_lists">
        
                    <!-- class="menuActive" -->
                    <li id="orderPage" class="liMainMenu">
                        <a href="dashboard.html"><i class="fa fa-home"></i><span class="menuText"> Dashboard</span></a>
                    </li>
                    <li class="liMainMenu showHideSubMenu">
                        <a href="javascript:void(0);" class="showHideSubMenu">
                            <i class="fa fa-cubes"></i>
                            <span class="menuText">Court</span>
                            <i class="fa fa-angle-left mainMenuIconArrow menuText"></i>
                        </a>
                        <ul class="subMenus" style="list-style-type:none">
                            <li><a class="subMenuLink" href="booking.html"><i class="fa fa-circle-o"></i> Booking</a></li>
                             <li><a class="subMenuLink" href="bookingList.html"><i class="fa fa-circle-o"></i> Booking List</a></li>
                            <li><a class="subMenuLink" href="courtList.html"><i class="fa fa-circle-o"></i> Court List</a></li>
                        </ul>
                    </li>

                    <li id="orderPage" class="liMainMenu">
                        <a href="contact_us.html"><i class="fa fa-envelope-o"></i><span class="menuText">Contact Us</span></a>
                    </li>
                    <li id="reportPage" class="liMainMenu">
                        <a href="userManual.html"><i class="fa fa-file"></i><span class="menuText"> User Manual</span></a>
                    </li>
                    
                   
                </ul>
            </div>
        </div>

        <div class="dashboard_content_container" id="dashboard_content_container">

            <!-- topnav -->

            <div class="dashboard_topNav">
                <a href="" id="togglebtn"><i class="fa fa-bars" aria-hidden="true"></i> <h3 class="form-section">BOOKING</h3></a>
               
                <a href="index.html" id="logoutbtn"><i class="fa fa-power-off" aria-hidden="true"></i> Log Out</a>
                <!-- <a href="index.php" id="logoutbtn"><i class="fa fa-power-off" aria-hidden="true"></i> Log Out</a> -->
            </div>

            <div class="dashboard_content">
                
                <div class="dashboard_content_main">
                    

                    <style type="text/css">
                    <!--
                    .style1 {color: #FF0000}
                    -->
                    </style>
                    
                    
                    <style>
                    @import url(https://fonts.googleapis.com/css?family=Droid+Sans);
                    .loader {
                    position: fixed;
                    left: 0px;
                    top: 0px;
                    width: 100%;
                    height: 100%;
                    z-index: 9999;
                    background: url('https://mir-s3-cdn-cf.behance.net/project_modules/disp/35771931234507.564a1d2403b3a.gif') 50% 50% no-repeat rgba(255, 255, 255, 0.9);;
                    }
                    </style> 
                    
                    
                    <script type="text/javascript">
                    $(document).ready(function(){
                    $(".datepicker").datepick({dateFormat: 'dd/mm/yyyy',minDate: new Date(), showTrigger: '#calImg' });
                    
                    $(".before-datepicker").datepick({dateFormat: 'dd/mm/yyyy', maxDate: new Date(), showTrigger: '#calImg' });
                    
                    $('#startPicker1,#endPicker1').datepick({dateFormat: 'dd/mm/yyyy',minDate: new Date(),onSelect: customRange, showTrigger: '#calImg'}); 
                    
                    function customRange(dates) { 
                    if (this.id == 'startPicker1') { 
                      $('#endPicker1').datepick('option', 'minDate', dates[0] || null); 
                    } 
                    else { 
                      $('#startPicker1').datepick('option', 'maxDate', dates[0] || null); 
                    } 
                    }
                    });
                    </script>
                    
                    
                    
                    
                    <div id="progress" class="loader" style="display: none;"></div> 
                    
                    <div class="portlet box grey">
               
                    
                    <div class="portlet-body form">
                    <!-- BEGIN FORM-->
                    <form name="nonCorporate" id="nonCorporate" action="" method="post" class="form-horizontal validateForm">
                    
                       
                            
                            <!-- <h3 class="form-section">BOOKING DETAILS</h3>     -->
                            
                            
                            <div class="form-group">
                              <label class="control-label col-md-3">COURT<span class="required">*</span></label>
                              <div class="col-md-4">
                              
                                 <select class="form-control" name="campus_id" id="campus_id" required="required">
                                    
                                    <option value="">-Please Select-</option>
                                    
                                    <option value="B">Court Badminton Arena 1</option>
                                    <option value="B">Court Badminton Arena 2</option>
                                    <option value="B">Court Badminton Arena 3</option>
                                    <option value="B">Court Takraw Arena 1</option>
                                    <option value="B">Court Takraw Arena 2</option>
                                    <option value="B">Court Takraw Arena 3</option>
                                    <option value="B">Court Tennis Arena 1</option>
                                    <option value="B">Court Tennis Arena 2</option>
                                    <option value="B">Court Tennis Arena 3</option>
                                    
                                 </select>
                                 
                              </div>
                          </div>
                      
                                
                    <div class="table-responsive">
                    
                         <table id="form_table" class="table table-bordered"> 
                            <tbody><tr>
                                <th><div align="center">Start Date</div></th>
                                <th><div align="center">Start Time</div></th>
                                <th><div align="center">End Time</div></th>
                                <th><div align="center">Action</div></th>
                            </tr>
                            <tr class="case">
                                <td><div align="center"><input type="text" class="thedate" id="startPicker1" name="startPicker1" style="WIDTH: 90px; HEIGHT: 23px" required="required"></div></td>
                                <td><div align="center"><select name="timeStart1" id="timeStart1" style="WIDTH: 150px; HEIGHT: 23px" required="required">
                                        <option value="">-Please Select-</option>
                                        <option value="08:00">08:00</option>
                                        <option value="08:30">08:30</option>
                                        <option value="09:00">09:00</option>
                                        <option value="09:30">09:30</option>
                                        <option value="10:00">10:00</option>
                                        <option value="10:30">10:30</option>
                                        <option value="11:00">11:00</option>
                                        <option value="11:30">11:30</option>
                                        <option value="12:00">12:00</option>
                                        <option value="12:30">12:30</option>
                                        <option value="13:00">13:00</option>
                                        <option value="13:30">13:30</option>
                                        <option value="14:00">14:00</option>
                                        <option value="14:30">14:30</option>
                                        <option value="15:00">15:00</option>
                                        <option value="15:30">15:30</option>
                                        <option value="16:00">16:00</option>
                                        <option value="16:30">16:30</option>
                                        <option value="17:00">17:00</option>
                                        <option value="17:30">17:30</option>
                                        <option value="18:00">18:00</option>
                                        <option value="18:30">18:30</option>
                                        <option value="19:00">19:00</option>
                                        <option value="19:30">19:30</option>
                                        <option value="20:00">20:00</option>
                                        <option value="20:30">20:30</option>
                                        <option value="21:00">21:00</option>
                                        <option value="21:30">21:30</option>
                                        <option value="22:00">22:00</option>
                                        <option value="22:30">22:30</option>
                                        <option value="23:00">23:00</option>
                                        <option value="23:30">23:30</option>
                                    </select></div>
                                   </td>
                               
                                <td>
                                    <div align="center"><select name="timeEnd1" id="timeEnd1" style="WIDTH: 150px; HEIGHT: 23px" required="required">
                                        <option value="">-Please Select-</option>
                                        <option value="08:00">08:00</option>
                                        <option value="08:30">08:30</option>
                                        <option value="09:00">09:00</option>
                                        <option value="09:30">09:30</option>
                                        <option value="10:00">10:00</option>
                                        <option value="10:30">10:30</option>
                                        <option value="11:00">11:00</option>
                                        <option value="11:30">11:30</option>
                                        <option value="12:00">12:00</option>
                                        <option value="12:30">12:30</option>
                                        <option value="13:00">13:00</option>
                                        <option value="13:30">13:30</option>
                                        <option value="14:00">14:00</option>
                                        <option value="14:30">14:30</option>
                                        <option value="15:00">15:00</option>
                                        <option value="15:30">15:30</option>
                                        <option value="16:00">16:00</option>
                                        <option value="16:30">16:30</option>
                                        <option value="17:00">17:00</option>
                                        <option value="17:30">17:30</option>
                                        <option value="18:00">18:00</option>
                                        <option value="18:30">18:30</option>
                                        <option value="19:00">19:00</option>
                                        <option value="19:30">19:30</option>
                                        <option value="20:00">20:00</option>
                                        <option value="20:30">20:30</option>
                                        <option value="21:00">21:00</option>
                                        <option value="21:30">21:30</option>
                                        <option value="22:00">22:00</option>
                                        <option value="22:30">22:30</option>
                                        <option value="23:00">23:00</option>
                                        <option value="23:30">23:30</option>
                                    </select></div>
                                 </td>
                               
                                 <td>
                                 <div align="center"><a class="delete" title="Delete" data-toggle="tooltip"><input name="btn_cancel" type="button" id="btn_cancel" class="small color red button" value="Cancel"></a></div>
                                 </td>
                            </tr>
                        </tbody></table>
                        <button type="button" class="btn btn-success addmore">+ Add New Date</button><br>
                    
                    
                    
                      </div>
                           
                           
                        
                        <div class="form-actions fluid">
                            <div class="col-md-offset-3 col-md-9">
                           
                             <button type="reset" value="reset" id="reset" class="btn btn-warning">Reset</button>
                             
                             
                             <a type="submit" class="btn btn-warning" href="bookingList.html" onclick="alert('Booking successfully saved')">Submit</a>
                             
                            </div>
                        </div>
                        <script>
                            document.getElementById("submitBtn").addEventListener("click", function() {
                             window.location.href = "http://127.0.0.1:5500/booking.html";
                            });
                        </script>
                    
                    
                    
                    </div></form>
                    </div>
                    
                    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
                    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
                    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
                    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.8.0/js/bootstrap-datepicker.js"></script>
                    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.8.0/js/bootstrap-datepicker.min.js"></script>
                    <script type="text/javascript" src="assets/plugins/jquery-validation/dist/jquery.validate.min.js"></script>
                    <script type="text/javascript" src="assets/plugins/bootstrap-daterangepicker/moment.js"></script>
                    
                    <script language="javascript">
                    $(document).ready(function() {
                    $('#ROOMDTL_NAME').change(function(){
                    var id = $('#ROOMDTL_NAME').val();
                    var response_group;
                    $.ajax({
                    type: "GET",
                    url: "room/nonKorporat.cfc?method=getCapacity&returnformat=plain",
                    data: "roomdtl_id=" + id,
                    async: false, 
                    success:function(data){
                        response_group = data;
                        }
                    });
                
                    });
                    });
                    $('#ROOMDTL_CAPACITY').val(response_group);
                    
                    
                 
                    
                
                   
                    
                    </script>
                    
                    <script language="javascript">
                    /*Textbox restrict numeric only*/
                    function numonly(root){
                    var reet = root.value;    
                    var arr1=reet.length;      
                    var ruut = reet.charAt(arr1-1);   
                    if (reet.length > 0){   
                    var regex = /[0-9]|\./;   
                    if (!ruut.match(regex)){   
                    var reet = reet.slice(0, -1);   
                    $(root).val(reet);   
                    }   
                    }  
                    }
                    </script>
                    
                    
                    <script>
                    $(document).ready(function(){
                    $(".addmore").on('click', function () {
                        var count = $('.table-responsive table tr').length;
                        var data = "<tr class='case'><td><div align='center'><input type='text' class='thedate' id='startPicker" + count + "' name='startPicker" + count + "' style='WIDTH: 90px; HEIGHT: 23px'  required='required'></div></td><td><div align='center'><select name='timeStart" + count + "' id='timeStart" + count + "' style='WIDTH: 150px; HEIGHT: 23px'><option value=''>-Please Select-</option><option value='08:00'>08:00</option>'<option value='08:30'>08:30</option>'<option value='09:00'>09:00</option>'<option value='09:30'>09:30</option>'<option value='10:00'>10:00</option>'<option value='10:30'>10:30</option>'<option value='11:00'>11:00</option>'<option value='11:30'>11:30</option>'<option value='12:00'>12:00</option>'<option value='12:30'>12:30</option>'<option value='13:00'>13:00</option>'<option value='13:30'>13:30</option><option value='14:00'>14:00</option><option value='14:30'>14:30</option><option value='15:00'>15:00</option><option value='15:30'>15:30</option><option value='16:00'>16:00</option><option value='16:30'>16:30</option><option value='17:00'>17:00</option><option value='17:30'>17:30</option><option value='18:00'>18:00</option><option value='18:30'>18:30</option><option value='19:00'>19:00</option><option value='19:30'>19:30</option><option value='20:00'>20:00</option><option value='20:30'>21:30</option><option value='21:00'>21:00</option><option value='21:30'>21:30</option><option value='22:00'>22:00</option><option value='22:30'>22:30</option><option value='23:00'>23:00</option><option value='23:30'>23:30</option></select></div></td><td><div align='center'><select name='timeEnd" + count + "' id='timeEnd" + count + "' style='WIDTH: 150px; HEIGHT: 23px'><option value=''>-Please Select-</option><option value='08:00'>08:00</option>'<option value='08:30'>08:30</option>'<option value='09:00'>09:00</option>'<option value='09:30'>09:30</option>'<option value='10:00'>10:00</option>'<option value='10:30'>10:30</option>'<option value='11:00'>11:00</option>'<option value='11:30'>11:30</option>'<option value='12:00'>12:00</option>'<option value='12:30'>12:30</option>'<option value='13:00'>13:00</option>'<option value='13:30'>13:30</option><option value='14:00'>14:00</option><option value='14:30'>14:30</option><option value='15:00'>15:00</option><option value='15:30'>15:30</option><option value='16:00'>16:00</option><option value='16:30'>16:30</option><option value='17:00'>17:00</option><option value='17:30'>17:30</option><option value='18:00'>18:00</option><option value='18:30'>18:30</option><option value='19:00'>19:00</option><option value='19:30'>19:30</option><option value='20:00'>20:00</option><option value='20:30'>21:30</option><option value='21:00'>21:00</option><option value='21:30'>21:30</option><option value='22:00'>22:00</option><option value='22:30'>22:30</option><option value='23:00'>23:00</option><option value='23:30'>23:30</option></select></div></td> </td><td><div align='center'><a class='delete' title='Delete' data-toggle='tooltip'><input name='btn_cancel' type='button' id='btn_cancel' class='small color red button' value='Cancel'></a></div></td></tr>";
                        $('#form_table').append(data);
                        $('#form_table').find('.thedate').datepicker( {format: 'd/mm/yyyy' } );
                        
                        
                        var time1= "timeStart" + count ;
                        var time2= "timeEnd" + count ;
                        $("#"+time2).change(function(){
                            var endT = $("#"+time2).val();
                            var startT = $("#"+time1).val();
                            if(endT <= startT)
                            {
                                alert('Error! Your End Time is less than or  equal with Start Time. Please reschedule your End Time. ');
                                $("#"+time2).val('');
                                return false;
                            }
                        });
                        
                        
                        
                        $("#"+time1).change(function(){
                            var endT = $("#"+time2).val();
                            var startT = $("#"+time1).val();
                            if(startT > endT)
                            {
                                $("#"+time2).val('');
                                return false;
                            }
                        });
                        
                        
                        
                        
                        $("#"+date1).change(function(){
                            var endTx = $("#"+date2).val();
                            var endT = moment(endTx, "DD/MM/YYYY H:mm");
                            
                            var startTx = $("#"+date1).val();
                            var startT = moment(startTx, "DD/MM/YYYY H:mm");
                            
                            $("#"+date2).val(startTx);
                            
                        });
                        
                        
                        
                        count++;
                        var textbox = document.getElementsByName("totalRow")[0];
                        var total = count++;
                        textbox.value = total - 1;
                        
                        
                    });
                    });
                    
                    $(function(){
                    
                    $('.thedate').datepicker({
                         format: 'd/mm/yyyy', 
                    });
                    
                    // Delete row on delete button click
                    $(document).on("click", ".delete", function(){
                    $(this).closest('tr').remove()
                    var textbox = document.getElementsByName("totalRow")[0];
                    var new_total = textbox.value -1;
                    textbox.value = new_total;
                    });
                    
                    
                    
                    
                    $('#timeEnd1').change(function(){
                    
                    var endT = $('#timeEnd1').val();
                    var startT = $('#timeStart1').val();
                    if(endT <= startT)
                    {
                        alert('Error! Your End Time is less than or  equal with Start Time. Please reschedule your End Time. ');
                        $('#timeEnd1').val('');
                        return false;
                    }
                    }); 
                    
                    });
                    </script>
                    <script>
                    $(window).load(function(){
                    $('.loader').fadeOut();
                    });
                    </script>
                    
                    
        
                </div>
            </div>


   



    <!-- Java Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
    var sideBarIsOpen = true;

    var togglebtn = document.getElementById('togglebtn');
    var dashboard_sidebar = document.getElementById('dashboard_sidebar');
    var dashboard_content_container = document.querySelector('.dashboard_content_container');
    var dashboard_logo = document.getElementById('dashboard_logo');
    

    togglebtn.addEventListener('click', function (event) {
        event.preventDefault();

        if (sideBarIsOpen) {
            dashboard_sidebar.style.width = "12%";
            dashboard_sidebar.style.transition = "0.3s all";
            dashboard_content_container.style.width = "88%";
            dashboard_logo.style.fontSize = '55px';
          

            var menuIcons = document.querySelectorAll('.menuText');
            menuIcons.forEach(function (icon) {
                icon.style.display = 'none';
            });

            document.querySelector('.dashboard_product_lists').style.textAlign = 'center';
            sideBarIsOpen = false;
        } else {
            dashboard_sidebar.style.width = "19%";
            dashboard_content_container.style.width = "80%";
            dashboard_logo.style.fontSize = '65px';


            var menuIcons = document.querySelectorAll('.menuText');
            menuIcons.forEach(function (icon) {
                icon.style.display = 'inline-block';
            });

            document.querySelector('.dashboard_product_lists').style.textAlign = 'left';
            sideBarIsOpen = true;
        }
    });

    // Submenu show/hide function
    document.addEventListener('click', function (e) {
        let clickedEl = e.target;

        if (clickedEl.classList.contains('showHideSubMenu')) {
            let subMenu = clickedEl.closest('li').querySelector('.subMenus');
            let mainMenuIcon = clickedEl.closest('li').querySelector('.mainMenuIconArrow');

            // close open subMenus.
            let subMenus = document.querySelectorAll('.subMenus');
            subMenus.forEach(function (sub) {
                if (subMenu !== sub) sub.style.display = 'none';
            });

            // check if there is subMenu
            if (subMenu != null) {
                if (subMenu.style.display === 'block') {
                    subMenu.style.display = 'none';
                    mainMenuIcon.classList.remove('fa-angle-down');
                    mainMenuIcon.classList.add('fa-angle-left');
                } else {
                    subMenu.style.display = 'block';
                    mainMenuIcon.classList.remove('fa-angle-left');
                    mainMenuIcon.classList.add('fa-angle-down');
                }
            }
        }
    });

    var menuItems = document.querySelectorAll('.dashboard_product_lists li');

    function toggleActiveClass() {
    var element = document.getElementById('menuActive');
    if (element) {
        // Safely access properties
        var classList = element.classList;
        // Continue with your logic
    }
}


    var currentPage = window.location.pathname.split('/').pop().replace('.php', '');
    var activeItemId = currentPage + 'Page';
    toggleActiveClass(activeItemId);

    menuItems.forEach(function (item) {
        item.addEventListener('click', function () {
            toggleActiveClass(item.id);
        });
    });
});
    </script>

    

</body>
</html>